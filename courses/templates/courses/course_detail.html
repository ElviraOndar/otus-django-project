{% extends 'base.html' %}

{% block title %}{{ course.title }}{% endblock %}

{% block content %}
    <h2>{{ course.title }}</h2>
    <p><strong>Описание курса:</strong> {{ course.description }}</p>
    <p><strong>Преподаватель:</strong> {{ course.get_teacher_name }}</p>

    <h3>Студенты курса:</h3>
    {% if course.students.all %}
        <ul>
        {% for student in course.students.all %}
            <li>{{ student.first_name }} {{ student.last_name }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>Пока никто не записан на курс.</p>
    {% endif %}

    <h3>Запланированные уроки:</h3>
    {% if course.lessons.all %}
        <ul>
        {% for lesson in course.lessons.all %}
            <li>
                {{ lesson.title }} — {{ lesson.start_time|date:"d.m.Y H:i" }} до {{ lesson.end_time|date:"H:i" }}
                {% if lesson.teacher %}
                    (Преподаватель: {{ lesson.teacher.first_name }} {{ lesson.teacher.last_name }})
                {% endif %}
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>Уроки пока не запланированы.</p>
    {% endif %}
{% endblock %}
